<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
    <link href="https://unpkg.com/vuetify/dist/vuetify.min.css" rel="stylesheet">
    <link href="../dist/vue-mfk.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.0.0-beta.3/polyfill.js"></script>
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <script src="https://unpkg.com/vuetify/dist/vuetify.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js"></script>
    <script src="../dist/vue-mfk.js"></script>

</head>

<body>
    <div id="app">
        <v-app>
            <v-container fluid>
                <v-layout wrap>
                    <v-flex>
                        <v-card>
                            <v-card-text>
                        <mfk-input
                            style="display:inline-block" 
                            v-model="mfk">
                        </mfk-input><br>
                        <mfk-input
                            style="display:inline-block" 
                            v-model="mfk"
                            :favorites="favorites"
                            @favorite-mfk-added="add"
                            @favorite-mfk-removed="remove">
                        </mfk-input>
                        <mfk-input 
                            v-model="mfk"
                            :favorites="favorites"
                            :error-message.sync="customError"
                            :disabled-fields="[5]"
                            @favorite-mfk-added="add"
                            @favorite-mfk-removed="remove">
                        </mfk-input>
                        <mfk-input 
                            v-model="mfk"
                            :favorites="favorites"
                            :disabled="true"
                            :validate="false"
                            @favorite-mfk-added="add"
                            @favorite-mfk-removed="remove">
                        </mfk-input>
                        <v-text-field v-model="customError" label="Customer Error"></v-text-field>
                        </v-card-text>
                    </v-card>
                                
                    </v-flex>
                    <v-flex xs12>
                        MFK: {{mfk}}
                    </v-flex>
                </v-layout>
            </v-container>
        </v-app>
    </div>
    <script>
        let mfkStore = [
            { alias: "Whole thing", mfk: "111-22-3333-12345-44444444-5555-666-77777-88-9999" },
            { alias: "Just Ones", mfk: "111-11-1111-12345-11111111-5555-666-77777-88-9999" },
            { alias: "No Org", mfk: "444--6666-12345-11111111-5555-666-77777-88-9999" },
            { alias: "Valid MFK", mfk: "260-43-5064-40100-00000000-6026-520-20100-00-0000" },
        ];

        var app = new Vue({
            el: '#app',
            data: {
                mfk: "123-22",
                favorites: mfkStore,
                customError: "Account is not eligible for this expense"
            },
            methods:{
                add:function(mfk){ mfkStore.push(mfk) },
                remove:function(mfk){ 
                let index = mfkStore.indexOf(mfk) ;
                if(index > -1) mfkStore.splice(index,1);
                }
            }
        });

    </script>

</body>

</html>